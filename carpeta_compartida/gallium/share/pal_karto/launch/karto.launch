<launch>
  <arg name="scan" default="scan"/>

  <arg name="trajectory_file" default="$(env HOME)/.pal/trajectory.yaml" />
  <arg name="graph_file" default="$(env HOME)/.pal/graph.g2o"/>
  <arg name="scans_file" default="$(env HOME)/.pal/processed_scans.karto"/>

  <node pkg="pal_karto" type="slam_karto" name="slam_karto" output="screen">
    <rosparam file="$(find pal_karto)/config/karto.yaml" command="load" />
    <rosparam file="$(find pal_karto)/config/scan_matcher.yaml" command="load" />
    <param name="trajectory_file" value="$(arg trajectory_file)"/>
    <param name="graph_file" value="$(arg graph_file)"/>
    <param name="scans_file" value="$(arg scans_file)"/>

    <remap from="scan" to="$(arg scan)"/>
    <remap from="dynamic_map" to="static_map"/>
  </node>
</launch>
