<?xml version="1.0" encoding="UTF-8"?>
<launch>

 <arg name="joint_name" default=""/>
 <arg name="joint_name_suffix" default=""/>
 <arg name="controller_pkg_name" default=""/>
 <arg name="ns" default=""/>
 <arg name="open_loop" default="false"/>
 <arg name="safety_override" default=""/>

 <rosparam command="load" ns="$(eval arg('ns') + '/joints/' + arg('joint_name') + '/actuator_params')" file="$(eval find(arg('controller_pkg_name')) + '/config/local_joint_control/actuator_parameters/' + arg('joint_name') + '.yaml')" />

 <rosparam command="load" ns="$(eval arg('ns') + '/joints/' + arg('joint_name') + '/velocity_pid')" file="$(eval find(arg('controller_pkg_name')) + '/config/local_joint_control/direct_effort_control/' + arg('joint_name') + '_velocity_pid.yaml')" />

 <param name="$(eval arg('ns') + '/joints/' + arg('joint_name') + '/type')" value="pal_local_joint_control::DirectEffortLeakyIntegratorControl"/>

  <include file="$(find pal_local_joint_control)/launch/load_safety_parameters.launch">
      <arg name="joint_cfg_name" value="$(arg joint_name)$(arg joint_name_suffix)"/>
      <arg name="controller_pkg_name" value="$(arg controller_pkg_name)"/>
      <arg name="ns" value="$(arg ns)/joints"/>
      <arg name="joint_name" value="$(arg joint_name)"/>
      <arg name="safety_override" value="$(arg safety_override)"/>
  </include>

</launch>
